import{j as e,A as x,m as c,r as m}from"./index-UJXdpR5J.js";import{P as p,C as d}from"./Page-DXtH12jH.js";function u({messages:n=[],onSend:s,typing:l=!1,typingText:i="Quelqu'un écrit…"}){return e.jsxs("div",{className:"flex flex-col h-80",children:[e.jsx("div",{className:"flex-1 overflow-y-auto space-y-2 pr-1",children:e.jsxs(x,{initial:!1,children:[n.map(a=>e.jsxs(c.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2},className:`max-w-[80%] px-3 py-2 rounded ${a.role==="operator"?"bg-blue-50 border border-blue-200 self-start":"bg-gray-100 border border-gray-200 self-end"}`,children:[e.jsxs("div",{className:"text-[11px] text-gray-500",children:[a.from," · ",a.time]}),e.jsx("div",{className:"text-sm text-gray-800",children:a.text})]},a.id)),l&&e.jsxs(c.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:-6},transition:{duration:.2},className:"max-w-[60%] px-3 py-2 rounded bg-gray-100 border border-gray-200 self-start",children:[e.jsx("div",{className:"text-[11px] text-gray-500",children:"Analyste · maintenant"}),e.jsxs("div",{className:"text-sm text-gray-800 inline-flex items-center gap-2",children:[e.jsx("span",{children:i}),e.jsxs("span",{className:"inline-flex gap-1",children:[e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"0ms"}}),e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"100ms"}}),e.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-gray-400 animate-bounce",style:{animationDelay:"200ms"}})]})]})]},"typing")]})}),e.jsxs("form",{className:"mt-2 flex gap-2",onSubmit:a=>{var o;a.preventDefault();const t=a.currentTarget.elements.namedItem("msg"),r=(o=t==null?void 0:t.value)==null?void 0:o.trim();r&&(s==null||s(r),t.value="")},children:[e.jsx("input",{name:"msg",className:"input h-10",placeholder:"Votre message..."}),e.jsx("button",{className:"btn btn-primary",type:"submit",children:"Envoyer"})]})]})}const y=[{id:1,from:"Opérateur 1",role:"operator",text:"Inspection terminée pour A12, upload en cours.",time:"09:12"},{id:2,from:"Analyste IA",role:"analyst",text:"Anomalies détectées sur B07, vérifier le rapport.",time:"09:20"},{id:3,from:"Chef de projet",role:"manager",text:"Planifier une visite supplémentaire pour C19.",time:"10:02"}];function h(){const[n,s]=m.useState(y),[l,i]=m.useState(!1);return e.jsx(p,{children:e.jsx("div",{className:"container-page space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(d,{title:"Messagerie interne",children:e.jsx(u,{messages:n,typing:l,typingText:"Analyste est en train d'écrire…",onSend:a=>{const t=new Date().toTimeString().slice(0,5);s(r=>[...r,{id:Date.now(),from:"Vous",role:"operator",text:a,time:t}]),i(!0),setTimeout(()=>{i(!1),s(r=>[...r,{id:Date.now()+1,from:"Analyste IA",role:"analyst",text:"Reçu. Je lance une vérification.",time:new Date().toTimeString().slice(0,5)}])},1200)}})}),e.jsx(d,{title:"Planification",children:e.jsx("div",{className:"grid grid-cols-2 gap-4 text-sm",children:Array.from({length:8}).map((a,t)=>e.jsx("div",{className:"h-16 border rounded flex items-center justify-center bg-gray-50 hover:bg-gray-100 transition-colors cursor-pointer",children:"Créneau"},t))})})]})})})}export{h as default};
